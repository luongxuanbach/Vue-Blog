<template>
    <v-app-bar app color="primary" dark>
        <v-container>
            <v-row align="center" justify="space-between" no-gutters>
                <!-- Logo -->
                <v-col cols="auto">
                    <router-link to="/">
                        <v-img :src="logoUrl" alt="Logo" width="120" contain></v-img>
                    </router-link>
                </v-col>

                <!-- Navigation -->
                <v-col cols="auto">
                    <v-btn to="/" variant="text" class="text-white">Trang ch·ªß</v-btn>
                    <v-btn to="/posts" variant="text" class="text-white">B√†i vi·∫øt</v-btn>
                    <v-btn to="/about" variant="text" class="text-white">Gi·ªõi thi·ªáu</v-btn>
                    <template v-if="isAuthenticated">
                        <span class="text-white mr-2">üëã Xin ch√†o, <strong>{{ user?.name }}</strong></span>
                        <v-btn @click="handleLogout" variant="text" class="text-white">ƒêƒÉng xu·∫•t</v-btn>
                    </template>
                    <template v-else>
                        <v-btn to="/login" variant="text" class="text-white">ƒêƒÉng nh·∫≠p</v-btn>
                    </template>
                </v-col>
            </v-row>
        </v-container>
    </v-app-bar>
</template>

<script setup>
import { useRouter } from 'vue-router';
const router = useRouter();
import logoUrl from '@/assets/logo.png'
import { useAuth } from '@/composables/useAuth';

const { isAuthenticated, logout } = useAuth();

const handleLogout = async () => {
    await logout()
    router.push('/login')
}

</script>

<style scoped>
.v-img {
    max-height: 50px;
}
</style>